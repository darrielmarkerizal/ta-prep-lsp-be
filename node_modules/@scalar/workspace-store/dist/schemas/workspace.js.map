{
  "version": 3,
  "sources": ["../../src/schemas/workspace.ts"],
  "sourcesContent": ["import { type ThemeId, themeIds } from '@scalar/themes'\nimport { Type } from '@scalar/typebox'\nimport { AVAILABLE_CLIENTS, type AvailableClients } from '@scalar/types/snippetz'\n\nimport { compose } from '@/schemas/compose'\nimport { extensions } from '@/schemas/extensions'\nimport {\n  type XScalarEnvironments,\n  xScalarEnvironmentsSchema,\n} from '@/schemas/extensions/document/x-scalar-environments'\nimport {\n  type XScalarActiveEnvironment,\n  XScalarActiveEnvironmentSchema,\n} from '@/schemas/extensions/workspace/x-scalar-active-environment'\nimport {\n  type XScalarClientConfigCookies,\n  xScalarClientConfigCookiesSchema,\n} from '@/schemas/v3.1/strict/client-config-extensions/x-scalar-client-config-cookies'\nimport type { SecuritySchemeObject } from '@/schemas/v3.1/strict/security-scheme'\nimport type { ServerObject } from '@/schemas/v3.1/strict/server'\n\nimport {\n  OpenAPIDocumentSchema,\n  type OpenApiDocument,\n  SecuritySchemeObjectSchema,\n  ServerObjectSchema,\n} from './v3.1/strict/openapi-document'\n\nexport const WorkspaceDocumentMetaSchema = Type.Partial(\n  Type.Object({\n    [extensions.document.activeAuth]: Type.String(),\n    [extensions.document.activeServer]: Type.String(),\n  }),\n)\n\nexport type WorkspaceDocumentMeta = {\n  [extensions.document.activeAuth]?: string\n  [extensions.document.activeServer]?: string\n}\n\n// Note: use Type.Intersect to combine schemas here because Type.Compose does not work as expected with Modules\nexport const WorkspaceDocumentSchema = Type.Intersect([WorkspaceDocumentMetaSchema, OpenAPIDocumentSchema])\n\nexport type WorkspaceDocument = WorkspaceDocumentMeta & OpenApiDocument\n\nexport const WorkspaceMetaSchema = Type.Partial(\n  Type.Object({\n    [extensions.workspace.darkMode]: Type.Boolean(),\n    [extensions.workspace.defaultClient]: Type.Union(AVAILABLE_CLIENTS.map((client) => Type.Literal(client))),\n    [extensions.workspace.activeDocument]: Type.String(),\n    [extensions.workspace.theme]: Type.Union(themeIds.map((t) => Type.Literal(t))),\n    [extensions.workspace.sidebarWidth]: Type.Number({ default: 288 }),\n  }),\n)\n\nexport type WorkspaceMeta = {\n  [extensions.workspace.darkMode]?: boolean\n  [extensions.workspace.defaultClient]?: AvailableClients[number]\n  [extensions.workspace.activeDocument]?: string\n  [extensions.workspace.theme]?: ThemeId\n  [extensions.workspace.sidebarWidth]?: number\n}\n\nexport const WorkspaceExtensionsSchema = compose(\n  xScalarEnvironmentsSchema,\n  XScalarActiveEnvironmentSchema,\n  Type.Partial(\n    Type.Object({\n      'x-scalar-client-config-cookies': xScalarClientConfigCookiesSchema,\n      'x-scalar-client-config-servers': Type.Array(ServerObjectSchema),\n      'x-scalar-client-config-security-schemes': Type.Record(Type.String(), SecuritySchemeObjectSchema),\n    }),\n  ),\n)\n\nexport type WorkspaceExtensions = {\n  'x-scalar-client-config-cookies'?: XScalarClientConfigCookies\n  'x-scalar-client-config-servers'?: ServerObject[]\n  'x-scalar-client-config-security-schemes'?: Record<string, SecuritySchemeObject>\n} & XScalarEnvironments &\n  XScalarActiveEnvironment\n\nexport const WorkspaceSchema = compose(\n  WorkspaceMetaSchema,\n  Type.Object({\n    documents: Type.Record(Type.String(), WorkspaceDocumentSchema),\n    /** Active document is possibly undefined if we attempt to lookup with an invalid key */\n    activeDocument: Type.Union([Type.Undefined(), WorkspaceDocumentSchema]),\n  }),\n  WorkspaceExtensionsSchema,\n)\n\nexport type Workspace = WorkspaceMeta & {\n  documents: Record<string, WorkspaceDocument>\n  activeDocument: WorkspaceDocument | undefined\n} & WorkspaceExtensions\n"],
  "mappings": "AAAA,SAAuB,gBAAgB;AACvC,SAAS,YAAY;AACrB,SAAS,yBAAgD;AAEzD,SAAS,eAAe;AACxB,SAAS,kBAAkB;AAC3B;AAAA,EAEE;AAAA,OACK;AACP;AAAA,EAEE;AAAA,OACK;AACP;AAAA,EAEE;AAAA,OACK;AAIP;AAAA,EACE;AAAA,EAEA;AAAA,EACA;AAAA,OACK;AAEA,MAAM,8BAA8B,KAAK;AAAA,EAC9C,KAAK,OAAO;AAAA,IACV,CAAC,WAAW,SAAS,UAAU,GAAG,KAAK,OAAO;AAAA,IAC9C,CAAC,WAAW,SAAS,YAAY,GAAG,KAAK,OAAO;AAAA,EAClD,CAAC;AACH;AAQO,MAAM,0BAA0B,KAAK,UAAU,CAAC,6BAA6B,qBAAqB,CAAC;AAInG,MAAM,sBAAsB,KAAK;AAAA,EACtC,KAAK,OAAO;AAAA,IACV,CAAC,WAAW,UAAU,QAAQ,GAAG,KAAK,QAAQ;AAAA,IAC9C,CAAC,WAAW,UAAU,aAAa,GAAG,KAAK,MAAM,kBAAkB,IAAI,CAAC,WAAW,KAAK,QAAQ,MAAM,CAAC,CAAC;AAAA,IACxG,CAAC,WAAW,UAAU,cAAc,GAAG,KAAK,OAAO;AAAA,IACnD,CAAC,WAAW,UAAU,KAAK,GAAG,KAAK,MAAM,SAAS,IAAI,CAAC,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC;AAAA,IAC7E,CAAC,WAAW,UAAU,YAAY,GAAG,KAAK,OAAO,EAAE,SAAS,IAAI,CAAC;AAAA,EACnE,CAAC;AACH;AAUO,MAAM,4BAA4B;AAAA,EACvC;AAAA,EACA;AAAA,EACA,KAAK;AAAA,IACH,KAAK,OAAO;AAAA,MACV,kCAAkC;AAAA,MAClC,kCAAkC,KAAK,MAAM,kBAAkB;AAAA,MAC/D,2CAA2C,KAAK,OAAO,KAAK,OAAO,GAAG,0BAA0B;AAAA,IAClG,CAAC;AAAA,EACH;AACF;AASO,MAAM,kBAAkB;AAAA,EAC7B;AAAA,EACA,KAAK,OAAO;AAAA,IACV,WAAW,KAAK,OAAO,KAAK,OAAO,GAAG,uBAAuB;AAAA;AAAA,IAE7D,gBAAgB,KAAK,MAAM,CAAC,KAAK,UAAU,GAAG,uBAAuB,CAAC;AAAA,EACxE,CAAC;AAAA,EACD;AACF;",
  "names": []
}
