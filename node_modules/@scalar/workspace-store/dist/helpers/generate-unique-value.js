function generateUniqueValue({
  defaultValue,
  /** Check function to verify the uniqueness of the value */
  validation,
  /** Transformation function to transform the default value (such as into a slug) */
  transformation,
  maxRetries = 5
}) {
  const transformed = transformation?.(defaultValue) ?? defaultValue;
  if (validation(transformed)) {
    return transformed;
  }
  return incrementValue({
    value: [transformed, 1],
    validation,
    maxRetries
  });
}
function incrementValue({
  value,
  validation,
  maxRetries,
  attempts = 0
}) {
  if (attempts >= maxRetries) {
    return;
  }
  const incremented = value.join(" ");
  if (validation(incremented)) {
    return incremented;
  }
  return incrementValue({
    value: [value[0], value[1] + 1],
    validation,
    maxRetries,
    attempts: attempts + 1
  });
}
export {
  generateUniqueValue
};
//# sourceMappingURL=generate-unique-value.js.map
