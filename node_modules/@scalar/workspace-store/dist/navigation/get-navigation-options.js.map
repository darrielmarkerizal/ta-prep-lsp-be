{
  "version": 3,
  "sources": ["../../src/navigation/get-navigation-options.ts"],
  "sourcesContent": ["import { slug } from 'github-slugger'\n\nimport type { TraverseSpecOptions } from '@/navigation/types'\nimport type { IdGenerator } from '@/schemas/navigation'\nimport type { DocumentConfiguration } from '@/schemas/workspace-specification/config'\n\n/**\n * Returns options for traversing an OpenAPI document, allowing customization of\n * how IDs and slugs are generated for tags, headings, models, operations, and webhooks.\n * The returned options can be influenced by the provided DocumentConfiguration\n */\nexport const getNavigationOptions = (documentName: string, config?: DocumentConfiguration): TraverseSpecOptions => {\n  const referenceConfig = config?.['x-scalar-reference-config']\n\n  const generateId: IdGenerator = (props) => {\n    const documentId = `${slug(documentName)}`\n\n    // -------- Default text id generation logic --------\n    if (props.type === 'text') {\n      if (referenceConfig?.generateHeadingSlug) {\n        return referenceConfig?.generateHeadingSlug({ slug: props.slug })\n      }\n\n      if (props.slug) {\n        return `${documentId}/description/${props.slug}`\n      }\n\n      return `${documentId}/`\n    }\n\n    // -------- Default tag id generation logic --------\n    if (props.type === 'tag') {\n      if (referenceConfig?.generateTagSlug) {\n        return `${documentId}/tag/${referenceConfig.generateTagSlug(props.tag)}`\n      }\n\n      return `${documentId}/tag/${slug(props.tag.name ?? '')}`\n    }\n\n    // -------- Default operation id generation logic --------\n    if (props.type === 'operation') {\n      const tagId = `${generateId({\n        type: 'tag',\n        tag: props.parentTag.tag,\n        parentId: props.parentTag.id,\n      })}`\n\n      if (referenceConfig?.generateOperationSlug) {\n        return `${tagId}/${referenceConfig.generateOperationSlug({\n          path: props.path,\n          operationId: props.operation.operationId,\n          method: props.method,\n          summary: props.operation.summary,\n        })}`\n      }\n\n      return `${tagId}/${props.method}${props.path}`\n    }\n\n    // -------- Default webhook id generation logic --------\n    if (props.type === 'webhook') {\n      const prefixTag = props.parentTag\n        ? `${generateId({\n            type: 'tag',\n            parentId: props.parentTag.id,\n            tag: props.parentTag.tag,\n          })}/`\n        : `${documentId}/`\n\n      if (referenceConfig?.generateWebhookSlug) {\n        return `${prefixTag}webhook/${referenceConfig.generateWebhookSlug({\n          name: props.name,\n          method: props.method,\n        })}`\n      }\n\n      return `${prefixTag}webhook/${props.method}/${slug(props.name)}`\n    }\n\n    // -------- Default model id generation logic --------\n    if (props.type === 'model') {\n      if (!props.name) {\n        return `${documentId}/models`\n      }\n\n      const prefixTag = props.parentTag\n        ? `${generateId({\n            type: 'tag',\n            parentId: props.parentTag.id,\n            tag: props.parentTag.tag,\n          })}/`\n        : `${documentId}/`\n\n      if (referenceConfig?.generateModelSlug) {\n        return `${prefixTag}model/${referenceConfig.generateModelSlug({\n          name: props.name,\n        })}`\n      }\n\n      return `${prefixTag}model/${slug(props.name)}`\n    }\n\n    if (props.type === 'example') {\n      return `${props.parentId}/example/${slug(props.name)}`\n    }\n\n    if (props.type === 'document') {\n      // -------- Default document id generation logic --------\n      return documentId\n    }\n\n    console.warn('[WARNING]: unhandled id generation for navigation item:', props)\n    return 'unknown-id'\n  }\n\n  const hideModels = referenceConfig?.features?.showModels === false\n  const operationsSorter: TraverseSpecOptions['operationsSorter'] = referenceConfig?.operationsSorter\n  const tagsSorter: TraverseSpecOptions['tagsSorter'] = referenceConfig?.tagSort\n\n  return {\n    hideModels,\n    operationsSorter,\n    tagsSorter,\n    generateId,\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
