{
  "version": 3,
  "sources": ["../../../../../../src/httpsnippet-lite/esm/targets/shell/httpie/client.ts"],
  "sourcesContent": ["// @ts-nocheck\n/**\n * @description\n * HTTP code snippet generator for the Shell using HTTPie.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nimport { CodeBuilder } from '../../../helpers/code-builder.js'\nimport { quote } from '../../../helpers/shell.js'\n\nexport const httpie = {\n  info: {\n    key: 'httpie',\n    title: 'HTTPie',\n    link: 'http://httpie.org/',\n    description: 'a CLI, cURL-like tool for humans',\n  },\n  convert: (\n    { allHeaders, postData, queryObj, fullUrl, method, url },\n    options,\n  ) => {\n    const opts = {\n      body: false,\n      cert: false,\n      headers: false,\n      indent: '  ',\n      pretty: false,\n      print: false,\n      queryParams: false,\n      short: false,\n      style: false,\n      timeout: false,\n      verbose: false,\n      verify: false,\n      ...options,\n    }\n    const { push, join, unshift } = new CodeBuilder({\n      indent: opts.indent,\n      // @ts-expect-error SEEMS LEGIT\n      join: opts.indent !== false ? ` \\\\\\n${opts.indent}` : ' ',\n    })\n    let raw = false\n    const flags = []\n    if (opts.headers) {\n      flags.push(opts.short ? '-h' : '--headers')\n    }\n    if (opts.body) {\n      flags.push(opts.short ? '-b' : '--body')\n    }\n    if (opts.verbose) {\n      flags.push(opts.short ? '-v' : '--verbose')\n    }\n    if (opts.print) {\n      flags.push(`${opts.short ? '-p' : '--print'}=${opts.print}`)\n    }\n    if (opts.verify) {\n      flags.push(`--verify=${opts.verify}`)\n    }\n    if (opts.cert) {\n      flags.push(`--cert=${opts.cert}`)\n    }\n    if (opts.pretty) {\n      flags.push(`--pretty=${opts.pretty}`)\n    }\n    if (opts.style) {\n      flags.push(`--style=${opts.style}`)\n    }\n    if (opts.timeout) {\n      flags.push(`--timeout=${opts.timeout}`)\n    }\n    // construct query params\n    if (opts.queryParams) {\n      Object.keys(queryObj).forEach((name) => {\n        const value = queryObj[name]\n        if (Array.isArray(value)) {\n          value.forEach((val) => {\n            push(`${name}==${quote(val)}`)\n          })\n        } else {\n          push(`${name}==${quote(value)}`)\n        }\n      })\n    }\n    // construct headers\n    Object.keys(allHeaders)\n      .sort()\n      .forEach((key) => {\n        push(`${key}:${quote(allHeaders[key])}`)\n      })\n    if (\n      (postData === null || postData === void 0\n        ? void 0\n        : postData.mimeType) === 'application/x-www-form-urlencoded'\n    ) {\n      // construct post params\n      if (postData.params?.length) {\n        flags.push(opts.short ? '-f' : '--form')\n        postData.params.forEach((param) => {\n          push(`${param.name}=${quote(param.value)}`)\n        })\n      }\n    } else if (\n      (postData === null || postData === void 0\n        ? void 0\n        : postData.mimeType) === 'multipart/form-data'\n    ) {\n      // construct multipart form data\n      if (postData.params?.length) {\n        flags.push('--multipart')\n        postData.params.forEach((param) => {\n          if (param.fileName) {\n            push(`${param.name}@${quote(param.fileName)}`)\n          } else {\n            push(`${param.name}='${quote(param.value)}'`)\n          }\n        })\n      }\n    } else {\n      raw = true\n    }\n    const cliFlags = flags.length ? `${flags.join(' ')} ` : ''\n    url = quote(opts.queryParams ? url : fullUrl)\n    unshift(`http ${cliFlags}${method} ${url}`)\n    if (\n      raw &&\n      (postData === null || postData === void 0 ? void 0 : postData.text)\n    ) {\n      const postDataText = quote(postData.text)\n      unshift(`echo ${postDataText} | `)\n    }\n    return join()\n  },\n}\n"],
  "mappings": "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",
  "names": []
}
