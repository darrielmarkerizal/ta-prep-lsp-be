{
  "version": 3,
  "sources": ["../../src/helpers/licenseContactHelper.ts"],
  "sourcesContent": ["import type { OpenAPIV3_1 } from '@scalar/openapi-types'\n\nimport type { PostmanCollection, Variable } from '../types'\n\n// Constants for variable keys\nconst VARIABLE_KEYS = {\n  LICENSE: {\n    NAME: 'license.name',\n    URL: 'license.url',\n  },\n  CONTACT: {\n    NAME: 'contact.name',\n    URL: 'contact.url',\n    EMAIL: 'contact.email',\n  },\n} as const\n\ntype InfoResult = {\n  license?: OpenAPIV3_1.LicenseObject\n  contact?: OpenAPIV3_1.ContactObject\n}\n\n/**\n * Finds a specific variable in the collection by its key\n */\nfunction findVariable(collection: PostmanCollection, key: string): Variable | undefined {\n  return collection.variable?.find((v) => v.key === key)\n}\n\n/**\n * Processes license information from collection variables\n */\nfunction processLicense(collection: PostmanCollection): OpenAPIV3_1.LicenseObject | undefined {\n  const nameVar = findVariable(collection, VARIABLE_KEYS.LICENSE.NAME)\n  if (!nameVar?.value || typeof nameVar.value !== 'string') {\n    return undefined\n  }\n\n  const urlVar = findVariable(collection, VARIABLE_KEYS.LICENSE.URL)\n  return {\n    name: nameVar.value,\n    ...(urlVar?.value && typeof urlVar.value === 'string' && { url: urlVar.value }),\n  }\n}\n\n/**\n * Processes contact information from collection variables\n */\nfunction processContact(collection: PostmanCollection): OpenAPIV3_1.ContactObject | undefined {\n  const nameVar = findVariable(collection, VARIABLE_KEYS.CONTACT.NAME)\n  const urlVar = findVariable(collection, VARIABLE_KEYS.CONTACT.URL)\n  const emailVar = findVariable(collection, VARIABLE_KEYS.CONTACT.EMAIL)\n\n  if (!nameVar?.value && !urlVar?.value && !emailVar?.value) {\n    return undefined\n  }\n\n  return {\n    ...(nameVar?.value && typeof nameVar.value === 'string' && { name: nameVar.value }),\n    ...(urlVar?.value && typeof urlVar.value === 'string' && { url: urlVar.value }),\n    ...(emailVar?.value && typeof emailVar.value === 'string' && { email: emailVar.value }),\n  }\n}\n\n/**\n * Processes the license and contact information from a Postman Collection.\n * This function checks for license and contact related variables in the collection\n * and creates corresponding OpenAPI License and Contact Objects if the information is present.\n */\nexport function processLicenseAndContact(collection: PostmanCollection): InfoResult {\n  try {\n    const result: InfoResult = {}\n\n    const license = processLicense(collection)\n    if (license) {\n      result.license = license\n    }\n\n    const contact = processContact(collection)\n    if (contact) {\n      result.contact = contact\n    }\n\n    return result\n  } catch (error) {\n    console.error('Error processing license and contact information:', error)\n    throw error\n  }\n}\n"],
  "mappings": "AAKA,MAAM,gBAAgB;AAAA,EACpB,SAAS;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,EACP;AAAA,EACA,SAAS;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,IACL,OAAO;AAAA,EACT;AACF;AAUA,SAAS,aAAa,YAA+B,KAAmC;AACtF,SAAO,WAAW,UAAU,KAAK,CAAC,MAAM,EAAE,QAAQ,GAAG;AACvD;AAKA,SAAS,eAAe,YAAsE;AAC5F,QAAM,UAAU,aAAa,YAAY,cAAc,QAAQ,IAAI;AACnE,MAAI,CAAC,SAAS,SAAS,OAAO,QAAQ,UAAU,UAAU;AACxD,WAAO;AAAA,EACT;AAEA,QAAM,SAAS,aAAa,YAAY,cAAc,QAAQ,GAAG;AACjE,SAAO;AAAA,IACL,MAAM,QAAQ;AAAA,IACd,GAAI,QAAQ,SAAS,OAAO,OAAO,UAAU,YAAY,EAAE,KAAK,OAAO,MAAM;AAAA,EAC/E;AACF;AAKA,SAAS,eAAe,YAAsE;AAC5F,QAAM,UAAU,aAAa,YAAY,cAAc,QAAQ,IAAI;AACnE,QAAM,SAAS,aAAa,YAAY,cAAc,QAAQ,GAAG;AACjE,QAAM,WAAW,aAAa,YAAY,cAAc,QAAQ,KAAK;AAErE,MAAI,CAAC,SAAS,SAAS,CAAC,QAAQ,SAAS,CAAC,UAAU,OAAO;AACzD,WAAO;AAAA,EACT;AAEA,SAAO;AAAA,IACL,GAAI,SAAS,SAAS,OAAO,QAAQ,UAAU,YAAY,EAAE,MAAM,QAAQ,MAAM;AAAA,IACjF,GAAI,QAAQ,SAAS,OAAO,OAAO,UAAU,YAAY,EAAE,KAAK,OAAO,MAAM;AAAA,IAC7E,GAAI,UAAU,SAAS,OAAO,SAAS,UAAU,YAAY,EAAE,OAAO,SAAS,MAAM;AAAA,EACvF;AACF;AAOO,SAAS,yBAAyB,YAA2C;AAClF,MAAI;AACF,UAAM,SAAqB,CAAC;AAE5B,UAAM,UAAU,eAAe,UAAU;AACzC,QAAI,SAAS;AACX,aAAO,UAAU;AAAA,IACnB;AAEA,UAAM,UAAU,eAAe,UAAU;AACzC,QAAI,SAAS;AACX,aAAO,UAAU;AAAA,IACnB;AAEA,WAAO;AAAA,EACT,SAAS,OAAO;AACd,YAAQ,MAAM,qDAAqD,KAAK;AACxE,UAAM;AAAA,EACR;AACF;",
  "names": []
}
