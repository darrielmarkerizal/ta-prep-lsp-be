import { defineComponent as f, mergeModels as p, ref as m, useModel as b, onMounted as h, createElementBlock as g, openBlock as r, normalizeProps as v, guardReactiveProps as S, unref as e, createVNode as k, withDirectives as y, createBlock as s, createCommentVNode as x, createElementVNode as C, mergeProps as M, vModelText as V, withModifiers as z } from "vue";
import { ScalarIconMagnifyingGlass as B, ScalarIconX as w } from "@scalar/icons";
import { useBindCx as A } from "@scalar/use-hooks/useBindCx";
import E from "../ScalarLoading/ScalarLoading.vue.js";
import I from "../ScalarIconButton/ScalarIconButton.vue.js";
const N = ["aria-label"], D = /* @__PURE__ */ f({
  inheritAttrs: !1,
  __name: "ScalarSidebarSearchInput",
  props: /* @__PURE__ */ p({
    autofocus: { type: Boolean },
    loading: {},
    label: {}
  }, {
    modelValue: {},
    modelModifiers: {}
  }),
  emits: ["update:modelValue"],
  setup(t) {
    const o = m(null), a = b(t, "modelValue");
    function i() {
      a.value = "", o.value && o.value.focus();
    }
    const { stylingAttrsCx: c, otherAttrs: u } = A();
    return h(() => t.autofocus && o.value?.focus()), (l, n) => (r(), g("label", v(S(
      e(c)(
        "flex items-center rounded border text-base has-[:focus-visible]:bg-b-1 has-[:focus-visible]:outline h-8 gap-1 pl-2 pr-1.5",
        "bg-sidebar-b-search border-sidebar-border-search",
        a.value ? "text-c-1" : "text-sidebar-c-search"
      )
    )), [
      k(e(B), { class: "text-sidebar-c-search size-4" }),
      y(C("input", M({
        ref_key: "inputRef",
        ref: o,
        "aria-label": l.label ?? "Enter search query",
        autocapitalize: "off",
        autocomplete: "off",
        autocorrect: "off",
        class: "flex-1 appearance-none rounded border-none bg-transparent outline-none",
        placeholder: "Search...",
        spellcheck: "false",
        type: "search"
      }, e(u), {
        "onUpdate:modelValue": n[0] || (n[0] = (d) => a.value = d)
      }), null, 16, N), [
        [V, a.value]
      ]),
      l.loading && l.loading.isLoading ? (r(), s(e(E), {
        key: 0,
        class: "mr-3 self-center",
        loadingState: l.loading,
        size: "md"
      }, null, 8, ["loadingState"])) : a.value ? (r(), s(e(I), {
        key: 1,
        class: "p-0.25 size-4",
        icon: e(w),
        weight: "bold",
        label: "Clear Search",
        onClick: z(i, ["stop", "prevent"])
      }, null, 8, ["icon"])) : x("", !0)
    ], 16));
  }
});
export {
  D as default
};
